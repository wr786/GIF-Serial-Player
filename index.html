<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
  	<title>GIF Serial Player</title>
	<link href="./css/semantic.css" rel="stylesheet" type="text/css">
	<link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.1.8/components/icon.min.css'>
	<script src="./js/jquery.min.js"></script>
	<script src="./js/semantic.js"></script>
	<script src="./js/vue.js"></script>
</head>

<body scroll="no" style="margin-top: 1em; margin-left: 1em; margin-right: 1em;">

  <div id="root" class="ui container">
  	<div id="currentFrame" class="ui header">1</div>
  	<img id="img"  src="./images/1.jpg">
  	<br/>
  	<div class="ui button" onclick="lastFrame()"><</div>
  	<div class="ui button" onclick="nextFrame()">></div>
  	<input id="inp" class="ui input">
  	<div class="ui button" onclick="jump()">jump</div>
  	<div class="ui button" onclick="run()">run</div>
  	<div class="ui button" onclick="stop()">stop</div>
  </div>

  <script type="text/javascript">
    // ==================可编辑区=================
    var folderName = "images";      // 图像位于的文件夹位置，默认为images   
  	var tot = 131;                  // 图像总数
    var speed = 200;                // 每几微秒播放下一帧，数值越大播放越慢
    var fileType = ".jpg";          // 图片后缀名
    // ==================可编辑区=================
  	var int;

    function setImage(idx) {
      $("#currentFrame").text(idx);
      $("#img").attr("src", "./" + folderName + "/" + idx + fileType);
    }

  	function lastFrame() {
  		var idx = parseInt($("#currentFrame").text());
  		idx = (idx + tot - 2) % tot + 1;
  		setImage(idx);
  	}

  	function nextFrame() {
  		var idx = parseInt($("#currentFrame").text());
  		idx = (idx) % tot + 1;
  		setImage(idx);
  	}

  	function jump() {
  		var idx = parseInt($("#inp").val());
  		idx = (idx - 1) % tot + 1;
  		setImage(idx);
  	}

  	function run() {
  		int = window.setInterval('nextFrame()', speed)
  	}

  	function stop() {
  		int = window.clearInterval(int);
  	}

  </script>

</body>

</html>